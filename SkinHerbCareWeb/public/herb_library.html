<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î - SkinHerbCare</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-gradient-start: #e0f2f1;
      --bg-gradient-end: #dcfce7;
      --border-color: rgba(255, 255, 255, 0.25);
      --primary-text: #064e3b;
    }
    body {
      margin: 0;
      font-family: "Sarabun", sans-serif;
      background: linear-gradient(160deg, var(--bg-gradient-start), var(--bg-gradient-end));
      color: var(--primary-text);
      overflow-x: hidden;
    }
    body::before,
    body::after {
      position: fixed;
      z-index: -1;
      opacity: 0.35;
    }
    body::before {
      content: "üåø";
      bottom: -60px;
      left: -60px;
      font-size: 260px;
      transform: rotate(-25deg);
    }
    body::after {
      content: "üåø";
      top: -80px;
      right: -80px;
      font-size: 300px;
      transform: rotate(20deg);
    }
    .top-nav {
      position: sticky;
      top: 0;
      width: 100%;
      padding: 12px 20px;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.35);
      border-bottom: 1px solid var(--border-color);
      z-index: 100;
    }
    .nav-container {
      max-width: 1200px;
      margin: auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    .logo {
      font-size: 1.4rem;
      font-weight: 700;
      text-decoration: none;
      color: var(--primary-text);
      white-space: nowrap;
    }
    .auth-links {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: flex-end;
    }
    .auth-links a {
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 8px;
      font-weight: 600;
      color: var(--primary-text);
      font-size: 0.95rem;
    }
    .auth-links a:hover {
      background: rgba(255,255,255,0.6);
    }
    .profile-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      overflow: hidden;
      padding: 0;
    }
    .profile-icon img {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      object-position: center;
      display: block;
    }
    .card-glass {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.6);
      box-shadow: 0 18px 40px rgba(16, 185, 129, 0.12);
    }
    @media (max-width: 640px) {
      .top-nav {
        padding: 10px 12px;
      }
      .logo {
        font-size: 1.1rem;
      }
      .auth-links {
        justify-content: center;
        width: 100%;
        gap: 6px;
      }
      .auth-links a {
        padding: 5px 10px;
        font-size: 0.85rem;
      }
      .profile-icon {
        width: 32px;
        height: 32px;
      }
      body::before,
      body::after {
        font-size: 160px;
        opacity: 0.25;
      }
    }
  </style>
</head>
<body class="text-gray-800">
  <nav class="top-nav">
    <div class="nav-container">
      <a href="/" class="logo">üåø SkinHerbCare</a>

      <div class="auth-links" id="guest-nav">
        <a href="/">Home</a>
        <a href="/login.html">Log In</a>
        <a href="/register.html">Sign Up</a>
        <button id="profile-btn-guest" class="profile-icon" aria-label="Profile">
          <img id="profile-img-guest" src="" alt="Profile" style="display:none;">
          <span id="profile-fallback-guest">üë§</span>
        </button>
      </div>

      <div class="auth-links" id="admin-nav" style="display: none;">
        <a href="/">Home</a>
        <a href="/admin-dashboard.html" style="background-color: #FFC107; color: #111C44; border-radius: 8px; padding: 6px 12px; font-weight: 600;">
          ‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö
        </a>
        <button onclick="logout()" style="background:none;border:none;cursor:pointer;text-decoration:none;color:var(--primary-text);font-weight:600;padding:6px 12px;border-radius:8px;font-size:0.95rem;">
          Log Out
        </button>
        <button id="profile-btn-admin" class="profile-icon" aria-label="Profile">
          <img id="profile-img-admin" src="" alt="Profile" style="display:none;">
          <span id="profile-fallback-admin">üë§</span>
        </button>
      </div>
    </div>
  </nav>

  <main class="max-w-6xl mx-auto px-4 py-10">
    <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-6">
      <div>
        <h1 class="text-2xl md:text-3xl font-bold text-green-900">‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h1>
        <p class="text-sm text-gray-600">‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
      </div>
      <div class="w-full md:w-72">
        <input id="herb-search" type="search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡∏£‡∏û‡∏Ñ‡∏∏‡∏ì..."
          class="w-full bg-white/80 border border-green-100 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
      </div>
    </div>

    <div id="herb-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="col-span-full text-center text-gray-500 bg-white/60 rounded-2xl py-10 border border-dashed border-green-200">
        ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£...
      </div>
    </div>
  </main>

  <script src="/js/herb_library.js?v=force_new_1"></script>
  <script src="/js/auth.js?v=20260211r11"></script>
  <script src="/js/profile-drawer.js?v=20260211r1"></script>
  <script>
    (function forceHerbLibraryNavState() {
      const isLoggedIn = Boolean(
        localStorage.getItem('token')
        || localStorage.getItem('userToken')
        || localStorage.getItem('user')
        || sessionStorage.getItem('token')
        || sessionStorage.getItem('userToken')
        || sessionStorage.getItem('user')
      );
      const userRaw = localStorage.getItem('user') || sessionStorage.getItem('user');
      let user = null;
      try { user = userRaw ? JSON.parse(userRaw) : null; } catch (_) { user = null; }
      const role = String(user?.role || user?.userRole || localStorage.getItem('userRole') || sessionStorage.getItem('userRole') || 'user').toLowerCase();
      const isAdmin = isLoggedIn && role === 'admin';

      const guestNav = document.getElementById('guest-nav');
      const adminNav = document.getElementById('admin-nav');
      const loginLink = document.querySelector('#guest-nav a[href="/login.html"]');
      const registerLink = document.querySelector('#guest-nav a[href="/register.html"]');

      if (guestNav) guestNav.style.display = isAdmin ? 'none' : 'flex';
      if (adminNav) adminNav.style.display = isAdmin ? 'flex' : 'none';
      if (loginLink) loginLink.style.display = isLoggedIn ? 'none' : '';
      if (registerLink) registerLink.style.display = isLoggedIn ? 'none' : '';
    })();
  </script>
</body>
</html>
